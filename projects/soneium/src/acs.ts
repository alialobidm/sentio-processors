import { BigDecimal } from '@sentio/sdk'
import { GlobalContext } from '@sentio/sdk/eth'

const projectEntries: Record<string, string[]> = {
  Biru: [
    '0xCb5367109e9d6b8C03c4DAF71740159fC85BCFce',
    '0xA313D4f11e69A320A68167E7aAfacEA8F3413593',

    '0xc01f9c5b52a616b958b3b97a6114733989754bbc',
    '0xaef0a409f8ff76b430411dbf4ce3c4622d4aafe1',
    '0x865361b1762bc7fb39d526cac20184027af1eac7',
    '0xb42dd6550fb84a3ec79d5f923538ec5baa1a22af',
    '0x87b10e4e0e4069e6cbb26a1d0bdbd8e8a30788f4',
    '0x74954796246a133a948c6b7bacc0bf00ab541993',
    '0x1089b99e8ea84f1eccacb3a89c347f7dc9511942',
    '0x1ded0cf7a76dfa20017f54edcb9283552a4254a6',
    '0x771570f2061d4496a8bf5763dacebf87837deb49',
    '0x160dd220360ebcc60757ecf127f6a5373e1ebf20',
    '0x99313afa9c2dfef8935baf303ba7bdd5e936f3e5',

    '0x6688ccf1e1499eca034d799b5625fe84b45f260e',
    '0xe0d6d1e53fa1a4ee154007d685363e134462f4c0',
    '0x8b2fe247fe6fd3886a5eeda3170086e74eeb8283',
    '0x7c3476829aab064d88be0c2e9656dbfbbc03409c',
    '0xe90e36c8aa191a63d127c17bbc2a36f4e5675b61',
    '0xbced30c41248f91b9f26fcd34a5f36699b8500a5',
    '0xf9dfc27a9bfe02521f367a002d21f8edf9f13597',
    '0xdc271bac351421fbb296f644a7db7ca9a391cdf2',
    '0xaf47c28b75f015a12a2ba50d1c3db55f9dda9b79',
    '0x345323290e83bd0a67edd08498381a56393ec3d7'
  ],
  'Derby Race': ['0xFCbD79F6a828045d90191959c430e6b383D03774'],
  Evermoon: [
    '0xbBeEDcD5479cB885463905cb1b41eaa5dc8131fd',
    '0x6b2249389dC3Db6B27833279F594910caa6465e7',
    '0xE9C1024746C71C6F12d19eCC85FEe139d823AD54'
  ],
  'Fractal Visions': ['0xF87f5313E830d8E2670898e231D8701532b1eB09'],
  'Kyo Finance': [
    '0x11feF46913EF8de4501e6B9452Ec77c26e736818',
    '0x3B574a321c7BFEF28e8021D210d063C9f72b17fC',
    '0x5D8429de7b98Ee465620ecf64Acb7d759Ad41e93',
    '0xC3d4fA777308412CbA0520c4034Ad3567de852dF',
    '0x3c56C7C1Bfd9dbC14Ab04935f409d49D3b7A802E',
    '0x0709b01C87Af28EC51Cb768A2E6352bAd6aD7817',
    '0x986d5bc7d1ebad7b6aa48b90d79ba2498e5e223dad50971c48f147ab6395bdd2',
    '0x137841043180BBA8EF52828F9030D1b7fE065F95',
    '0xAE2B32E603D303ED120f45B4Bc2ebAc314de080b',
    '0x4446B2f6dAFb515b489A3cEEbb5b5a91fe53B6f9',
    '0x60eb4B04932797374a291380349008dc8cc40426',
    '0x0dC73Fe1341365929Ed8a89Dd47097A9FDD254D0',
    '0x27a7F9FD22035e9a63468A187dbbF9E4dD97F79A',
    '0xafe4f575554E33e9F34007839652B7811A45d369',
    '0xf54c8516b0255aaf493382e8534bab492d4325d4c84374ac39f7fa643a5cfbcd'
  ],
  'Posse Studios': ['0xFF4C94b6D2A89F5CA5FC46A49BE40A42f7352D18', '0x0931cD0aFef4e455209DA6f1dF73FC6771635FF0'],
  Quickswap: [
    '0x7B446Bfb3763Ed0892f08893Eb06Dda79aB28CB9',
    '0x8Ff309F68F6Caf77a78E9C20d2Af7Ed4bE2D7093',
    '0x4c5663252bBAB0a3B303a711823aD70a0ec9aE31',
    '0x22e5195BcC9b0C87f330FbCE2755B263662578E2',
    '0xeba58c20629ddab41e21a3E4E2422E583ebD9719',
    '0x0629B3c6E1cCfF2e31e3A9Bd67ec96b23BE6f1e9',
    '0x0629B3c6E1cCfF2e31e3A9Bd67ec96b23BE6f1e9',
    '0x2E4C17aEE528084e6dB16882d24fc1Dd0Ef20D97'
  ],
  'Sake Finance': [
    '0x797655D1ed8C523956f1268b3848eB6F7ceCC24f',
    '0xA0b7108f28b4449354152334E14140b7A6d2070B',
    '0xa2f5e16D9C16D417aD80B8939688aE861F9FF018',
    '0xc51FcFe6e8E4B95f818d0a7b635901E7C3E03c12',
    '0xB939e0491a7e6CFa23f99fD0FF4B9B0779577734',
    '0x18530Af497F558e23134E223244F353ea776aF2A',
    '0x545541a451471A26d1fF29c9821D0ea97325f10E',
    '0x4E041B5019CeD3479A35f6C1AD29f81d1cE70109',
    '0x3c42d87821D04778E82EB93f8c9D3f435c037Fad',
    '0xb497B4dA5019d1D7543a3a6776864F229AEDC986',
    '0x024b9C5f7746e799418747083904d39C5608e284',
    '0xAa9e5105ACC5E612b0c27a17f4a671991A79D6c7',
    '0x83942A37822B2e6dfe652fA3d4f0Ee8c94A59355',
    '0xFa5778871E17D7163202b67853661c95978BF56B',
    '0x76516A0Bee8c0908C85Fe7Ba085DF68b8732979e',
    '0x217f41b49adAfc34778e615d05466c0899BCFabF',
    '0xCf0a5Bee0aC4955f7F77F2B9AA83C4FC0028cbcb',
    '0x7d4FFcE767430D1077333622718B5F28E23D3180',
    '0xf4a9BA6E61e29E6D5C89D9EB60a73Add6A9e7402',
    '0x3C3987A310ee13F7B8cBBe21D97D4436ba5E4B5f',
    '0x73a35ca19Da0357651296c40805c31585f19F741',
    '0xA5675c1B4Bb771807298215B3f4b92bBa328B87F',
    '0xC3Cb8E981257b4Cbb5D2e3b288cd2aaC05e8C39d',
    '0xaB9Cf2CEae8D559097e99e28E89A053c8Bca1a81',
    '0x2BECa16DAa6Decf9C6F85eBA8F0B35696A3200b3',
    '0x213b3586Dd60a5135684222c6fa610e7bc275F9b',
    '0xBdA1D5108234a3244CC0F1a879656C30dF1c2977',
    '0x697c4aCf71B3d72b40453caA94e13160cC2852c6',
    '0xa771De59fE78eD10a4AE593aB4f459114E06C75e',
    '0xC54b9E958BE3938690bA409A8Ac1f85FB31639A2',
    '0xa0Ec1ee89310d3a944b58c7Ee207aE040678F694',
    '0x628E4771d682e6c10357E8ac1819007f1C98F646',
    '0x51a0D90D3E09a52de6AF2b2cD099991e127E1f2b',
    '0xE078153d39dc9Fc88596d5b8724729A1fa3c352e',
    '0xA74F7D210079f3A24fcCA3E045F6f564A5BAcbFE',
    '0x3EA6bF287FD2aeEA2AD449D0C857379B7411894a',
    '0x4491B60c8fdD668FcC2C4dcADf9012b3fA71a726',
    '0x9bC851D790cE02c27490E5645d5Dd876f6511fFC',
    '0xe0c2e7DDA57ae7caf8D61D5B5f3395a0928cc331',
    '0xeF5e5A79D882aE8413D1FcE97b0759Fa36882439',
    '0x5D7Af17B88Ad600EAb35957CC99eaa30D6330cFD',
    '0xD8A37018d24204813226054B6fAFccA1DdD8DF8A',
    '0x4DC7c9eC156188Ea46F645E8407738C32c2B5B58',
    '0x38E49164CCFb46EF446ff056c5bB97b7fA50F155',
    '0x310DDe1DB3611d78B24DC17460dd1beb15354000',
    '0xd2c9f1BE087477650C5AbFc78A8d51Aac7432B15',
    '0x779a0A5686c2835F3DB9dB9EA4d030508E9EB096',
    '0x7dF07ABf5942D8B7A357D2DCB67c3D8c3Ade00b8',
    '0xB8dc0d150a84E4883eE1a5e99a2e6f89AF39791b',
    '0xf24e57b1cb00d98C31F04f86328e22E8fcA457fb',
    '0xf90aD2D95f8C1fd4899d2cBcdEc4f6d60378792a',
    '0x20FA0cdc494eA5859745Ffc3F79938f9F7AC470f',
    '0xD5B71A6D72737960744B4Dc14a5E69b0a97F4CEe',
    '0xdfce906c380b0dff1b9E20B66C53eE51eA039A25',
    '0x3D28F707FC3d7FDC7Ee6346afFb642120658407e',
    '0x3d9A0c14aA08e92e4499762D77CD979c766F395a',
    '0x98fd9F47d57dE0269BA62e4eB294A622E940887c',
    '0x6Cd236C5E444B3f6E841B3EB5595b0d9cF8d5d56',
    '0x9d5f5a855228ecc27801377251AE7168eC3f69DB',
    '0x0C7A08E6D0d86Ef4Fc6f6dF0B69d6792fA6525D8',
    '0xb0c2d954226295F8a335f4214E5aD2d8137f625b',
    '0xdD4A9f00aa9bF39f658A85d08E5D3447BE8edbFD',
    '0xE7F7a881b021047383a21661306f5C6582Af6Ea6',
    '0x323f0C58296A2d01eB9f40A58E779b4deD655D97',
    '0x832233658570F840856F9d7271Fb019abC3F3770',
    '0x712F189f251A43B2002655a4dea1Bf02d77f7a14',
    '0x8BbDb2EA7fEbf6CB0C7f805837C8456F6685dD5f',
    '0x66bc5C8D792b46a414CD4b88D35a7B216AeEB48E',
    '0xa3330A01d6F2a4efD91C1fF3451872B80296f422',
    '0xf24e57b1cb00d98C31F04f86328e22E8fcA457fb'
  ],
  SoneFi: ['0x82d2d0aAE77967d42ACf4F30B53e2de0055338De', '0x368986EDcB1b2Ac55282752c6881c0E4A5A6b1bE'],
  SoneX: ['0x3E4ff8662820E3dec3DACDb66ef1FFad5Dc5Ab83', '0xDEf357D505690F1b0032a74C3b581163c23d1535'],
  Sonova: [
    '0xbfe6a3023C92B040f95B8c2e8C237AAf0AFc92AB',
    '0xcD8034e208498aD691ec22a16b34a521FdCaef5D',
    '0xC361e1E7E59F2430F4e098AA614d6EF999261dB1',
    '0xC68D641700140B088D46adA58a0f62fbeCAB01BA',
    '0x0c428C5531C344877D441C6fE46317717F41cE21'
  ],
  Sonus: ['0xBeB481792E749A210DD0E1Fdbd366Fa8d4187A3F', '0xe0b6811a362a5e6171d4e214D259C51180933f76'],
  SuperVol: ['0x34834F208F149e0269394324c3f19e06dF2ca9cB', '0x618148f2Bb58C5c89737BB160070613d4E1b790a'],
  Synstation: [
    '0xbDc61836abdf0542Fe4A0B8bf30Eaed77953684b',
    '0x1bAAcaf734Ab823037743f532CdFC4F13F128319',
    // OutcomeFactory
    '0xa546b3a3C71aD7ED2152551490049f85FE136B34',
    '0x6524bFeeBeCD6Af59533E3B32A53F6beF279F8b2',
    // GM
    '0x7F81F7E9D9Bfc0786868127EEc62EEb440193b3A',
    '0xE19Ab56608D893dE2801444E07F042c1fFdCf468',
    // FixedPSM (USDC)
    '0xdf7c9782CBb7b238456F213C91930fE4e607b493',
    '0xA730f28B6bc25ACbE72B8aeBA71C008438618f8B',
    // Outcome Router
    '0x1ccAA0C6448CCd836A09f62B1C0b2Df76f910424',
    '0xc1548A95637831f05C81b3f59A8df053B30A8d69',
    '0xc9b9DDEe50EA1842A36e4AA02d50211586b6eE63',
    '0x81B4029bfCb5302317fe5d35D54544EA3328e30f',
    // Autopilot-WETH
    '0xefb3Cc73a5517c9825aE260468259476e7965c5E',
    '0xe145ead17F6CF6505f98bB911766f7c53CE4Ea8F',
    '0xd15445221815BEFb9e70A0855E0107e759Fe0294',
    // Autopilot-ASTR
    '0x3BaC111A6F5ED6A554616373d5c7D858d7c10d88',
    '0x296763cfB9dBC01a0E461AAd3F87532e415F713e',
    // Autopilot-USDT
    '0x6A31048E5123859cf50F865d5a3050c18E77fFAe',
    '0x6c87f5C23DdB092930Ed80324b2fafF46b5fb586',
    // Autopilot-nsASTR
    '0x74dFFE1e68f41ec364517f1F2951047246c5DD4e',
    '0x2738FeE27ffE3D37946F9456457E42e697c0CbDB',
    // Autopilot-nrETH
    '0x467b43ede72543FC0FD79c7085435A484a87e0D7',
    '0xBf14af845b53Ac4F10322eD615D026135D3D862B',
    // Autopilot-USDC.e
    '0x2C7f58d2AfaCae1199c7e1E00FB629CCCEA5Bbd5',
    '0x0647022E8087BBA2E55C719f20E38BE688BEF3Df'
  ],
  Unemeta: ['0xbb4904e033Ef5Af3fc5d3D72888f1cAd7944784D', '0xacC809386Fd5c99bFb07686818f29481bfdf6C76'],
  'Untitled Bank': [
    // UntitledHub
    '0x2469362f63e9f593087EBbb5AC395CA607B5842F',
    // UB-USDC Bank
    '0xc675BB95D73CA7db2C09c3dC04dAaA7944CCBA41',
    // UB-ASTR Bank
    '0x85A4fB48C7f9383083864D62aBECCDf318fd8E6F',
    // UB-WETH Bank
    '0x232554B4B291A446B4829300bec133FBB07A8f2A'
  ],
  Velodrome: [
    '0x652e53C6a4FE39B6B30426d9c96376a105C89A95',
    '0x3a63171DD9BebF4D07BC782FECC7eb0b890C2A45',
    '0x991d5546C4B442B4c5fdc4c8B8b8d131DEB24702'
  ],
  WaveX: [
    '0x23d0C1AadFaAa076c409fcdcfC078B77802e4203',
    '0x1c5d80Edb12341Dca11f4500aa67B4D2238F3220',
    '0x932757a768b6497c7F50bC975D279499fb9CbA91'
  ]
  // 'Treasure Hunt': ['0x435c4ED0647fD80CBEdB3d9a21445eCba8D5d156'],
  // ARCAS: [
  //   '0x570f09AC53b96929e3868f71864E36Ff6b1B67D7',
  //   '0x392440db3BeF15ea5E9aAdE9ddf72e923556001E',
  //   '0xDE06BE7FBd67ADAA1F7c35aFAF390431Adf3B739'
  // ],
}

const projects = Object.entries(projectEntries)

const isAddressEqual = (addr1: string | null, addr2: string | null) => addr1?.toLowerCase() == addr2?.toLowerCase()

export function handleACS(tx: { from: string; to: string | null; gasCost: BigDecimal }, ctx: GlobalContext) {
  for (const [project, addresses] of projects) {
    for (const address of addresses) {
      if (isAddressEqual(tx.from, address) || isAddressEqual(tx.to, address)) {
        ctx.eventLogger.emit('acs_tx', {
          distinctId: tx.from,
          ...tx,
          project
        })
        return
      }
    }
  }
}
